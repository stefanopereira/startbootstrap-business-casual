<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Startbootstrap-business-casual by ironsummitmedia</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">Startbootstrap-business-casual</h1>
        <p class="header"></p>

  

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/ironsummitmedia">ironsummitmedia</a></p>


      </header>
      <section>
        

<em><strong>NT only: How do I move my Mailbox, Program, or PostOffice directories to new </strong><strong>location(s)?</strong></em>

Note: If your current configuration is as follows (the MailboxDir is a subdirectory of the ProgramDir directory), or if the MailboxDir is the same directory as ProgramDir you will need to separate your executable files and directories out of the same hierarchy as your configuration files and your mailbox directories. What you will need to do is make another directory in Post.Office called "Apps" and move the postoffice.exe, post.office.dll, Network, Local and Other files and directories into it. Then you will need to edit all references of the Program Directory Path in the Registry.

Post.Office
postoffice.exe
postoffice.dll
Network\
Local\
Other\
Post.Office\mailboxes

It’s not hard to define another location for your Post.Office information. The trick is to make sure the permissions after copying are identical to what they were before!

There are three things that can be moved. Their names and default locations are as follows:
<ul>
 	<li>The Program Directories and files - \win32app\post.office</li>
 	<li>The Configuration Directories and files - \winnt35\system32\spool\post.office</li>
 	<li>The Mailbox Directories and files - \winnt35\system32\spool\post.office\mailbox</li>
</ul>
Note: If your mailbox is under your configuration directory, you will still need to change the mailbox registry entry.

Basically you need to:
<ol>
 	<li>Login is as the Local NT Administrator of your Post.Office Host, Administrator.</li>
 	<li>If you are 1.9.3 or greater check your Post.Office Controller for your current file locations: Control Panel -&gt; Post.Office; (i.e. Post.Office Directory; Program Directory, Mailbox Directory)</li>
 	<li>Go to the locations listed above and document the permissions for those file structures exactly!</li>
 	<li>Shutdown the Post.Office Service
v1.9.3 or greater:
Control Panel -&gt; Post.Office -&gt; Shutdown
versions before 1.9.3:
Control Panel -&gt; Services -&gt; Post.Office MTA -&gt; Stop</li>
 	<li>Use File Manager to copy your directories to new location:
Move Post.Office Directory; &lt;\winnt35\system32\spool&gt;\Post.Office
-or - Move Program Directory; &lt;/win32app&gt;\Post.Office&gt;
-or - Move Mailbox Directory (if not under Post.Office Directory);</li>
 	<li>Verify that permissions are identical in the new location. (See the section of the FAQ titled Permissions and Directory Locations.)</li>
 	<li>Using REGEDT32.EXE, edit the Registry Key for Post.Office to point to the
FULL PATH of the new location(s):</li>
 	<li>Within HKEY_LOCAL_MACHINE select:
SOFTWARE -&gt; Software.com -&gt;Dispatch -&gt; Config</li>
 	<li>Edit the "ProgramDir" Key to have the new drive:\full path of the Program Directory
-or- Edit the PostOffice Key to have the new drive:\full path of the Post Office Directory
-or- Edit the MailboxDir Key to have the new drive:\full path of the Mailbox Directory

Note: If you do not have permission to save this value (or values), you will need to do the following:
Select the Security Menu Option -&gt; Owner -&gt; Take Ownership
Select the Security Menu Option again -&gt; Permissions -&gt;
Highlight or add your administrative self
Select the Type of Access Pull Down and select Full Control
Make sure your Post.Office-User is still listed with Full Control
Select OK.
Now try to edit the Key.</li>
 	<li>If you have moved the Program Directory, you will also need to change another value in the Registry Editor:</li>
 	<li>Within HKEY_LOCAL_MACHINE select:
SYSTEM -&gt; CurrentControlSet - &gt; Services -&gt; Post.Office</li>
 	<li>Edit the "ImagePath" Key to have the new drive:\full path of the Program Directory

Note: If you do not have permission to save this value (or values), you will need to:
Select the Security Menu Option -&gt; Owner -&gt; Take Ownership
Select the Security Menu Option again -&gt; Permissions -&gt;
Highlight or add your administrative self
Select the Type of Access Pull Down and select Full Control
Make sure your Post.Office-User is still listed with Full Control
Select OK.
Now try to edit the Key.</li>
 	<li>You will now need start the Post.Office service in your Control Panel - Services Window.</li>
</ol>
<em><strong>NT only: How do I move Post.Office to another drive letter on same host?</strong></em>

There are four places in the NT Registry information that you will need to modify if you are leaving everything the same, just switching drive letters for Post.Office.
<ul>
 	<li>HKEY_LOCAL_MACHINE-&gt;SOFTWARE -&gt; Software.com -&gt; post.office -&gt; Dispatch -&gt; Config -&gt; MailBoxDir</li>
 	<li>HKEY_LOCAL_MACHINE-&gt;SOFTWARE -&gt; Software.com -&gt; post.office -&gt; Dispatch -&gt; Config -&gt; PostOffice</li>
 	<li>HKEY_LOCAL_MACHINE-&gt;SOFTWARE -&gt; Software.com -&gt; post.office -&gt; Dispatch -&gt; Config -&gt; ProgramDir</li>
 	<li>HKEY_LOCAL_MACHINE-&gt;SOFTWARE-&gt; System -&gt; ControlSet001 -&gt; Services -&gt; Post.Office -&gt; ImagePath</li>
</ul>
<ol>
 	<li>As an NT Administrator open the Registry Editor.</li>
 	<li>Within HKEY_LOCAL_MACHINE select:
SOFTWARE -&gt; Software.com -&gt; post.office -&gt; Dispatch -&gt; Config</li>
 	<li>Double-click on the "MailBoxDir" Key to edit it.</li>
 	<li>Change the value from old-drive-letter to new-drive-letter and click on OK.
If you do not have permission to save this value, you will need to: select the Security Menu Option -&gt; Owner…-&gt; Take Ownership; select the Security Menu Option again -&gt; Permissions -&gt;; highlight your administrative self; select the Type of Access Pull Down and select Full Control; select OK, and try the edit the Socket Key.</li>
 	<li>Within HKEY_LOCAL_MACHINE select:
SOFTWARE -&gt; Software.com -&gt; post.office -&gt; Dispatch -&gt; Config</li>
 	<li>Double-click on the "PostOffice" Key to edit it.</li>
 	<li>Change the value from old-drive-letter to new-drive-letter and click on OK
(If you do not have permission to save this value, you will need to perform steps as defined above.)</li>
 	<li>Within HKEY_LOCAL_MACHINE select:
SOFTWARE -&gt; Software.com -&gt; post.office -&gt; Dispatch -&gt; Config</li>
 	<li>Double-click on the "ProgramDir" Key to edit it.</li>
 	<li>Change the value from old-drive-letter to new-drive-letter and click on OK. (If you do not have permission to save this value, you will need to perform steps as defined above.)</li>
 	<li>Within HKEY_LOCAL_MACHINE
SOFTWARE-&gt; System -&gt; ControlSet001 -&gt; Services -&gt; Post.Office</li>
 	<li>Double-click on the "ImagePath" Key to edit it.</li>
 	<li>Change the value from old-drive-letter to new-drive-letter and click on OK. (If you do not have permission to save this value, you will need to perform steps defined above.)</li>
</ol>
<em><strong>UNIX only: I want to move my mailbox directories to new location. How do I do this in </strong><strong>UNIX Solaris2?</strong></em>
<ol>
 	<li>Shutdown Post.Office: &lt;/opt/&gt;post.office/post.office shutdown</li>
 	<li>Login as your Post.Office : login mta</li>
 	<li>Copy your mailbox directories to the new location
cd &lt;/var/spool&gt;
cp -r mailbox &lt;New location&gt;</li>
 	<li>Edit the Post.Office configuration to point MailboxDir to new location
vi /etc/post.office.conf
Change MailboxDir=&lt;Full path of new location&gt;</li>
 	<li>Login as root: login root</li>
 	<li>Startup Post.Office: &lt;/opt&gt;/post.office/post.office startup</li>
</ol>
<em><strong>UNIX only: How do I move my mailboxes and accounts to another UNIX Host?</strong></em>

Assuming you are running the same version of Post.Office on both, you can move your accounts from one host to another (SUNOS to SUNOS, SOLARIS to SOLARIS, SUNOS to Solaris).

In summary, you will need to copy your mailbox directories and MTA-Accounts information to the new host:
<ul>
 	<li>On the old and new hosts: Review your /etc/post.office.conf file.</li>
 	<li>You need to copy the "MailboxDir" directory and all it's sub-directories to your new host's MailboxDir. Make sure that you keep proper permissions and that the owner and group end up being the correct Post.Office owner and group for the new host.</li>
 	<li>You will need to copy the "PostOffice"/config/MTA-Accounts to you new host's "PostOffice"/config directory. Make sure that you keep the permissions properly and that the owner and group end up being the correct Post.Office owner and group for the new host.</li>
</ul></section>
      <footer>

      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
